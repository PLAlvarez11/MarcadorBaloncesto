  :root{
    --bg:#00040a; --panel:#0b0f17; --bezel:#070a10; --stroke:rgba(255,255,255,.06);
    --yellow:#ffd426; --red:#ff2a2a; --green:#20e468; --muted:#9aa0a6; --text:#eef1f5;
    --radius:22px; --gap:16px; --dot-size:6px; --sidebar:320px;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; color:var(--text);
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans";
    background: radial-gradient(1200px 700px at 50% -10%, #151a2a 0%, #0a0e17 60%, #04070d 100%), var(--bg);
    display:grid; grid-template-columns: 1fr var(--sidebar);
    min-height:100svh;
  }

  /* ===== Scoreboard (izquierda) ===== */
  .wrap{
    width:min(1200px, 96%);
    margin-inline:auto; margin-block: clamp(10px,2vw,20px);
    border-radius:calc(var(--radius) + 8px);
    padding:clamp(12px,2.2vw,20px);
    background:linear-gradient(180deg, var(--panel), #0a0e15 60%, var(--panel));
    box-shadow:0 40px 80px rgba(0,0,0,.55), inset 0 0 0 1px var(--stroke);
    display:grid; gap:var(--gap);
    grid-template:
      "timer   timer   timer" auto
      "fL      center  fR"   auto
      "sL      center  sR"   1fr
      "nameL   brand   nameR" auto
      / 1fr 420px 1fr;
  }
  .dottext{position:relative; display:inline-block; font-weight:900; letter-spacing:.06em; line-height:1; color:var(--yellow);
    text-shadow:0 0 5px rgba(255,212,38,.35), 0 0 14px rgba(255,212,38,.18);}
  .dottext::after{content:""; position:absolute; inset:-6px; border-radius:12px; pointer-events:none;
    background:radial-gradient(circle at 1px 1px, rgba(255,255,255,.10) 1px, transparent 1.5px) 0 0/ var(--dot-size) var(--dot-size); mix-blend-mode:overlay;}

  .timer{grid-area:timer; justify-self:center; background:var(--bezel); border-radius:18px; padding:14px 28px;
    box-shadow:inset 0 0 0 2px var(--stroke), 0 25px 50px rgba(0,0,0,.5);}
  .time{font-family:Consolas,"Courier New",monospace; font-size:min(15vw,120px);}

  .panel{background:var(--bezel); border-radius:18px; padding:12px;
    box-shadow:inset 0 0 0 2px var(--stroke), 0 20px 40px rgba(0,0,0,.45);
    display:grid; gap:10px; place-items:center;}
  .fouls{width:96px}
  .fouls h3{margin:0; font-size:12px; letter-spacing:.18em; color:var(--muted)}
  .fouls .count{font-family:Consolas,"Courier New",monospace; font-size:min(11vw,72px); font-weight:900;
    color:#fff; padding:.15em .35em; border-radius:12px; min-width:64px; text-align:center;}
  .leftF .count{background:linear-gradient(180deg,#5f1313,#b41e1e); box-shadow:0 0 18px rgba(255,42,42,.35) inset}
  .rightF .count{background:linear-gradient(180deg,#145a2f,#1fb45a); box-shadow:0 0 18px rgba(32,228,104,.35) inset}

  .score{padding:18px 16px; display:grid; gap:8px; justify-items:center}
  .value{font-family:Consolas,"Courier New",monospace; font-size:min(22vw,190px); line-height:.9; color:var(--yellow);
    text-shadow:0 0 14px rgba(255,212,38,.35), 0 0 28px rgba(255,212,38,.15);}
  .team{font-weight:800; letter-spacing:.14em; font-size:clamp(14px,2.2vw,28px)}

  .fL{grid-area:fL} .fR{grid-area:fR}
  .sL{grid-area:sL} .sR{grid-area:sR}

  .center{grid-area:center; display:grid; gap:var(--gap); align-content:center}
  .pos{background:var(--bezel); border-radius:16px; padding:10px 16px; display:flex; align-items:center; justify-content:center; gap:18px;
    box-shadow:inset 0 0 0 2px var(--stroke)}
  .pos .label{color:var(--muted); letter-spacing:.18em; font-size:12px}
  .arrow{width:0;height:0;border-top:11px solid transparent;border-bottom:11px solid transparent;}
  .arrowL{border-right:18px solid var(--red); filter:drop-shadow(0 0 6px rgba(255,42,42,.6))}
  .arrowR{border-left:18px solid var(--red); filter:drop-shadow(0 0 6px rgba(255,42,42,.6)); opacity:.25}

  .period{background:var(--bezel); border-radius:16px; padding:16px; display:grid; justify-items:center; gap:8px;
    box-shadow:inset 0 0 0 2px var(--stroke)}
  .period .t{color:var(--muted); letter-spacing:.18em; font-size:12px}
  .period .n{font-family:Consolas,"Courier New",monospace; font-size:min(11vw,84px); font-weight:900; color:var(--green);
    text-shadow:0 0 10px rgba(32,228,104,.45)}

  .brand{text-align:center; color:#cdd3db; opacity:.85; font-size:clamp(12px,1.7vw,16px); letter-spacing:.14em; padding-top:4px}
  .nameL{text-align:center} .nameR{text-align:center}
  .bottom{display:contents}
  .nameL{grid-area:nameL} .nameR{grid-area:nameR} .brand{grid-area:brand}

  /* ===== Resaltado de l√≠der ===== */
  .leader{
    box-shadow: 0 0 26px rgba(255,212,38,.22), inset 0 0 0 2px rgba(255,212,38,.25);
  }

  /* ===== Sidebar (derecha) ===== */
  aside.controls{
    position:sticky; top:0; height:100svh; overflow:auto;
    background:linear-gradient(180deg, #0b0f17, #0a0e15);
    border-left:1px solid var(--stroke);
    padding:16px;
    box-shadow: inset 0 0 0 1px rgba(255,255,255,.02);
  }
  .controls h2{margin:6px 0 12px; font-size:18px; letter-spacing:.06em}
  .group{margin-bottom:16px; padding:12px; border-radius:14px; background:#0b0c12; box-shadow:inset 0 0 0 1px var(--stroke)}
  .group h3{margin:0 0 10px; font-size:13px; letter-spacing:.12em; color:var(--muted)}
  .row{display:flex; gap:8px; flex-wrap:wrap}

  button{
    appearance:none; border:1px solid rgba(255,255,255,.12); background:#121420; color:#e9ecf2;
    padding:10px 12px; border-radius:12px; font-weight:700; cursor:pointer;
    transition:transform .05s ease, background .15s ease, border-color .15s ease;
  }
  button:hover{background:#171a2a}
  button:active{transform:translateY(1px)}
  .danger{background:#3a0e0e} .success{background:#0f3120}
  .wide{flex:1 1 100%}
  .mini{font-size:12px; padding:6px 8px}
  .chip{display:inline-flex; align-items:center; gap:6px; padding:6px 10px; border-radius:999px;
    background:#0e1322; border:1px solid rgba(255,255,255,.08); color:#cfd5de; font-size:12px}
  select{background:#0e1322; color:#e9ecf2; border:1px solid rgba(255,255,255,.12); border-radius:10px; padding:8px 10px}

  /* ===== Mobile: sidebar como off-canvas ===== */
  .fab{
    position:fixed; right:16px; bottom:16px; z-index:60;
    padding:12px 16px; border-radius:999px; background:#1d2338; border:1px solid rgba(255,255,255,.14);
    box-shadow:0 8px 24px rgba(0,0,0,.45); display:none;
  }
  @media (max-width: 960px){
    body{grid-template-columns: 1fr}
    aside.controls{
      position:fixed; inset:auto 0 0 0; height:min(70svh, 520px);
      border-left:none; border-top:1px solid var(--stroke); transform:translateY(100%);
      transition:transform .25s ease; z-index:50; border-top-left-radius:16px; border-top-right-radius:16px;
      box-shadow:0 -30px 60px rgba(0,0,0,.6);
    }
    aside.controls.open{ transform:translateY(0%) }
    .fab{display:inline-flex}
    .wrap{width:96%; margin-bottom:80px}
  }

  /* === Visual de fin de cuarto === */
  .overlay {
    position: fixed; inset: 0; z-index: 100;
    display: grid; place-items: center;
    background: rgba(0,0,0,0); opacity: 0; pointer-events: none;
    transition: opacity .25s ease, background .25s ease;
  }
  .overlay.show {
    background: rgba(0,0,0,.55);
    opacity: 1; pointer-events: auto;
  }
  .banner {
    background: #11162a;
    border: 1px solid rgba(255,255,255,.15);
    border-radius: 18px;
    padding: 20px 28px;
    text-align: center;
    box-shadow: 0 30px 80px rgba(0,0,0,.6), inset 0 0 0 1px rgba(255,255,255,.05);
  }
  .banner h1{
    margin: 0 0 6px; font-size: clamp(22px, 3.2vw, 34px); letter-spacing: .12em;
  }
  .banner p{
    margin: 0; color: #cfd5de; letter-spacing: .06em;
  }

  .flash { animation: flash 0.12s ease-in-out 16 alternate; }
  @keyframes flash {
    from { filter: drop-shadow(0 0 10px rgba(255,212,38,.55)); opacity: 1; }
    to   { filter: drop-shadow(0 0 2px rgba(255,212,38,.15));  opacity: .35; }
  }
  .wrap.ring { animation: ringPulse 1.2s ease-out 2; }
  @keyframes ringPulse{
    0%   { box-shadow: 0 0 0 rgba(255,212,38,0), inset 0 0 0 1px var(--stroke); }
    40%  { box-shadow: 0 0 40px rgba(255,212,38,.50), inset 0 0 0 1px var(--stroke); }
    100% { box-shadow: 0 0 0 rgba(255,212,38,0), inset 0 0 0 1px var(--stroke); }
  }

  .switch { display:inline-flex; align-items:center; gap:8px; cursor:pointer; user-select:none; }
  .switch input { transform: translateY(1px); }