<app-scoreboard></app-scoreboard>
<main class="wrap" aria-label="Marcador de baloncesto">
    <section class="timer"><span id="time" class="dottext time">10:00</span></section>

    <aside class="panel fouls leftF fL" aria-label="Faltas equipo A">
      <h3>FOULS</h3>
      <div id="foulsA" class="count">0</div>
    </aside>

    <section id="panelA" class="panel score sL" aria-label="Puntuación equipo A">
      <div id="scoreA" class="value">0</div>
    </section>

    <section class="center">
      <div class="pos" aria-label="Posesión">
        <div id="posA" class="arrow arrowL" title="Posesión A"></div>
        <div class="label">POS</div>
        <div id="posB" class="arrow arrowR" title="Posesión B"></div>
      </div>
      <div class="period" aria-label="Período">
        <div class="t">PERIOD</div>
        <div id="period" class="n">1</div>
      </div>
    </section>

    <section id="panelB" class="panel score sR" aria-label="Puntuación equipo B">
      <div id="scoreB" class="value">0</div>
    </section>

    <aside class="panel fouls rightF fR" aria-label="Faltas equipo B">
      <h3>FOULS</h3>
      <div id="foulsB" class="count">0</div>
    </aside>

    <div class="bottom nameL team"><span id="nameA">A TEAM</span></div>
    <div class="bottom brand">droidelabs.cl</div>
    <div class="bottom nameR team"><span id="nameB">B TEAM</span></div>
  </main>

  <!-- ===== Sidebar de controles ===== -->
  <aside id="controls" class="controls" aria-label="Controles del marcador">
    <h2>Controles</h2>

    <div class="group">
      <h3>Reloj</h3>
      <div class="row" style="align-items:center; gap:10px">
        <span class="chip">Duración cuarto</span>
        <select id="quarterLen">
          <option value="600">10:00</option>
          <option value="720">12:00</option>
          <option value="480">08:00</option>
        </select>
      </div>
      <div class="row" style="margin-top:10px">
        <button id="start">Iniciar</button>
        <button id="pause">Pausar</button>
        <button id="resetClock" class="mini">Reiniciar</button>
      </div>
    </div>

    <div class="group">
      <h3>Puntos Equipo A</h3>
      <div class="row">
        <button data-score="A" data-add="3">+3</button>
        <button data-score="A" data-add="2">+2</button>
        <button data-score="A" data-add="1">+1</button>
        <button data-score="A" data-add="-1" class="danger">-1</button>
      </div>
    </div>

    <div class="group">
      <h3>Puntos Equipo B</h3>
      <div class="row">
        <button data-score="B" data-add="3">+3</button>
        <button data-score="B" data-add="2">+2</button>
        <button data-score="B" data-add="1">+1</button>
        <button data-score="B" data-add="-1" class="danger">-1</button>
      </div>
    </div>

    <div class="group">
      <h3>Faltas</h3>
      <div class="row">
        <span class="chip">A</span>
        <button data-foul="A" data-add="1" class="success">+1</button>
        <button data-foul="A" data-add="-1" class="danger">-1</button>
        <span class="chip">B</span>
        <button data-foul="B" data-add="1" class="success">+1</button>
        <button data-foul="B" data-add="-1" class="danger">-1</button>
        <button id="resetFouls" class="mini">Reset</button>
      </div>
    </div>

    <div class="group">
      <h3>Posesión</h3>
      <div class="row">
        <button id="posA_btn">Pos A</button>
        <button id="posB_btn">Pos B</button>
        <button id="posToggle" class="wide">Alternar Posesión</button>
      </div>
      <div class="row">
        <label class="switch chip">
          <input id="autoPosLeader" type="checkbox">
          Posesión automática (líder)
        </label>
      </div>
    </div>

    <div class="group">
      <h3>Período</h3>
      <div class="row">
        <button id="nextPeriod">Siguiente</button>
        <button id="resetPeriod" class="mini">Reiniciar</button>
      </div>
      <div class="row">
        <label class="switch chip">
          <input id="autoAdvance" type="checkbox">
          Avanzar automáticamente
        </label>
      </div>
    </div>

    <div class="group">
      <h3>Equipos</h3>
      <div class="row" style="flex-direction:column; gap:8px; align-items:stretch">
        <input id="inNameA" placeholder="Nombre Equipo A" style="padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,.12);background:#0e1322;color:#e9ecf2">
        <input id="inNameB" placeholder="Nombre Equipo B" style="padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,.12);background:#0e1322;color:#e9ecf2">
        <button id="applyNames">Aplicar nombres</button>
      </div>
    </div>

    <div class="group">
      <h3>Partido</h3>
      <div class="row">
        <button id="resetAll" class="danger">Reiniciar todo</button>
      </div>
    </div>
  </aside>

  <!-- Botón flotante móvil -->
  <button id="fab" class="fab">☰ Controles</button>

  <!-- Overlay fin de cuarto -->
  <div id="ov" class="overlay" role="dialog" aria-live="assertive">
    <div class="banner">
      <h1>FIN DEL CUARTO</h1>
      <p>Período <span id="ovP">1</span> terminado</p>
    </div>
  </div>